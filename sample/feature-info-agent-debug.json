{
	"type": "feature-info-agent",
	"ServiceSpec": {
		"Name": "feature-info-agent",
		"TaskTemplate": {
			"ContainerSpec": {
				"Image": "ghcr.io/cambridge-cares/feature-info-agent:VERSION",
				"Env": [
					"LOG4J_FORMAT_MSG_NO_LOOKUPS=true",
					"FIA_CONFIG_FILE=/app/queries/fia-config.json",
					"JAVA_OPTS=-agentlib:jdwp=transport=dt_socket,server=y,suspend=y,address=*:5005"
				],
				"Mounts": [
					{
						"Type": "volume",
						"Source": "fia-queries",
						"Target": "/app/queries"
					}
				],
				"Configs": [
					{
						"ConfigName": "postgis"
					},
					{
						"ConfigName": "blazegraph"
					},
					{
						"ConfigName": "ontop"
					}
				],
				"Secrets": [
					{
						"SecretName": "postgis_password"
					},
					{
						"SecretName": "blazegraph_password"
					}
				]
			}
		},
		"EndpointSpec": {
			"Mode": "vip",
			"Ports": [
				{
					"Name": "debug",
					"Protocol": "tcp",
					"TargetPort": 5005,
					"PublishedPort": 5005,
					"PublishMode": "ingress"
				}
			]
		}
	},
	"endpoints": {
		"ui": {
			"url": "http://localhost:8080/feature-info-agent/",
			"externalPath": "/feature-info-agent/"
		}
	}
}
